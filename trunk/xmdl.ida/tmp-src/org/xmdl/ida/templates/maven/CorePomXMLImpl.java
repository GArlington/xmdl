package org.xmdl.ida.templates.maven;

import chrome.xmdl.*;

public class CorePomXMLImpl
{
  protected static String nl;
  public static synchronized CorePomXMLImpl create(String lineSeparator)
  {
    nl = lineSeparator;
    CorePomXMLImpl result = new CorePomXMLImpl();
    nl = null;
    return result;
  }

  public final String NL = nl == null ? (System.getProperties().getProperty("line.separator")) : nl;
  protected final String TEXT_1 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?>" + NL + "<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"" + NL + "         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\">" + NL + "" + NL + "    <modelVersion>4.0.0</modelVersion>" + NL + "    " + NL + "    <parent>" + NL + "        <groupId>org.xmdl.projects.";
  protected final String TEXT_2 = "</groupId>" + NL + "        <artifactId>";
  protected final String TEXT_3 = "</artifactId>" + NL + "        <version>0.1-SNAPSHOT</version>" + NL + "        <relativePath>../pom.xml</relativePath>" + NL + "    </parent>" + NL + "    " + NL + "    <artifactId>";
  protected final String TEXT_4 = "-core</artifactId>" + NL + "    <packaging>jar</packaging>" + NL + "    <name>";
  protected final String TEXT_5 = " - Core</name>" + NL + "    " + NL + "    <build>" + NL + "        <plugins>" + NL + "            <plugin>" + NL + "                <groupId>org.codehaus.mojo</groupId>" + NL + "                <artifactId>aspectj-maven-plugin</artifactId>" + NL + "                <version>1.0-beta-2</version>" + NL + "                <configuration>" + NL + "                    <source>1.5</source>" + NL + "                    <verbose>true</verbose>" + NL + "                    <complianceLevel>1.5</complianceLevel>" + NL + "                    <showWeaveInfo>true</showWeaveInfo>" + NL + "                    <aspectLibraries>" + NL + "                        <aspectLibrary>" + NL + "                            <groupId>org.springframework</groupId>" + NL + "                            <artifactId>spring-aspects</artifactId>" + NL + "                        </aspectLibrary>" + NL + "                    </aspectLibraries>" + NL + "                </configuration>" + NL + "                <executions>" + NL + "                    <execution>" + NL + "                        <goals>" + NL + "                            <goal>compile</goal>" + NL + "                        </goals>" + NL + "                    </execution>" + NL + "                </executions>" + NL + "            </plugin>" + NL + "            <plugin>" + NL + "                <groupId>org.codehaus.mojo</groupId>" + NL + "                <artifactId>hibernate3-maven-plugin</artifactId>" + NL + "                <version>2.0-alpha-2</version>" + NL + "                <configuration>" + NL + "                    <components>" + NL + "                        <component>" + NL + "                            <name>hbm2ddl</name>" + NL + "                            <implementation>annotationconfiguration</implementation>" + NL + "                        </component>" + NL + "                    </components>" + NL + "                    <componentProperties>" + NL + "                        <drop>true</drop>" + NL + "                        <jdk5>true</jdk5>" + NL + "                        <propertyfile>target/test-classes/jdbc.properties</propertyfile>" + NL + "                        <skip>${maven.test.skip}</skip>" + NL + "                    </componentProperties>" + NL + "                </configuration>" + NL + "                <executions>" + NL + "                    <execution>" + NL + "                        <phase>process-test-resources</phase>" + NL + "                        <goals>" + NL + "                            <goal>hbm2ddl</goal>" + NL + "                        </goals>" + NL + "                    </execution>" + NL + "                </executions>" + NL + "                <dependencies>" + NL + "                    <dependency>" + NL + "                        <groupId>${jdbc.groupId}</groupId>" + NL + "                        <artifactId>${jdbc.artifactId}</artifactId>" + NL + "                        <version>${jdbc.version}</version>" + NL + "                    </dependency>" + NL + "                </dependencies>" + NL + "            </plugin>" + NL + "            <plugin>" + NL + "                <groupId>org.codehaus.mojo</groupId>" + NL + "                <artifactId>dbunit-maven-plugin</artifactId>" + NL + "                <version>1.0-beta-1</version>" + NL + "                <configuration>" + NL + "                    <dataTypeFactoryName>${dbunit.dataTypeFactoryName}</dataTypeFactoryName>" + NL + "                    <driver>${jdbc.driverClassName}</driver>" + NL + "                    <username>${jdbc.username}</username>" + NL + "                    <password>${jdbc.password}</password>" + NL + "                    <url>${jdbc.url}</url>" + NL + "                    <src>src/test/resources/sample-data.xml</src>" + NL + "                    <type>${dbunit.operation.type}</type>" + NL + "                    <schema>${dbunit.schema}</schema>" + NL + "                    <skip>${maven.test.skip}</skip>" + NL + "                </configuration>" + NL + "                <executions>" + NL + "                    <execution>" + NL + "                        <phase>test-compile</phase>" + NL + "                        <goals>" + NL + "                            <goal>operation</goal>" + NL + "                        </goals>" + NL + "                    </execution>" + NL + "                </executions>" + NL + "                <dependencies>" + NL + "                    <dependency>" + NL + "                        <groupId>${jdbc.groupId}</groupId>" + NL + "                        <artifactId>${jdbc.artifactId}</artifactId>" + NL + "                        <version>${jdbc.version}</version>" + NL + "                    </dependency>" + NL + "                </dependencies>" + NL + "            </plugin>" + NL + "        </plugins>" + NL + "        <testResources>" + NL + "            <testResource>" + NL + "                <directory>src/test/resources</directory>" + NL + "                <filtering>true</filtering>" + NL + "            </testResource>" + NL + "        </testResources>" + NL + "    </build>" + NL + "" + NL + "    <!-- Dependencies calculated when running full-source plugin -->" + NL + "    <dependencies>" + NL + "        <dependency>" + NL + "            <groupId>${pom.parent.groupId}</groupId>" + NL + "            <artifactId>ida-corelib</artifactId>" + NL + "            <version>${pom.parent.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>aspectj</groupId>" + NL + "            <artifactId>aspectjweaver</artifactId>" + NL + "            <version>${aspectj.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>aspectj</groupId>" + NL + "            <artifactId>aspectjrt</artifactId>" + NL + "            <version>${aspectj.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>commons-beanutils</groupId>" + NL + "            <artifactId>commons-beanutils</artifactId>" + NL + "            <version>${commons.beanutils.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>commons-collections</groupId>" + NL + "            <artifactId>commons-collections</artifactId>" + NL + "            <version>${commons.collections.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>commons-lang</groupId>" + NL + "            <artifactId>commons-lang</artifactId>" + NL + "            <version>${commons.lang.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>javax.mail</groupId>" + NL + "            <artifactId>mail</artifactId>" + NL + "            <version>${javamail.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>javax.persistence</groupId>" + NL + "            <artifactId>persistence-api</artifactId>" + NL + "            <version>${jpa.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>jmock</groupId>" + NL + "            <artifactId>jmock</artifactId>" + NL + "            <version>${jmock.version}</version>" + NL + "            <optional>true</optional>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>net.sf.ehcache</groupId>" + NL + "            <artifactId>ehcache</artifactId>" + NL + "            <version>${ehcache.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>org.codehaus.xfire</groupId>" + NL + "            <artifactId>xfire-java5</artifactId>" + NL + "            <version>${xfire.version}</version>" + NL + "            <exclusions>" + NL + "                <exclusion>" + NL + "                    <artifactId>commons-attributes-api</artifactId>" + NL + "                    <groupId>commons-attributes</groupId>" + NL + "                </exclusion>" + NL + "                <exclusion>" + NL + "                    <artifactId>jaxen</artifactId>" + NL + "                    <groupId>jaxen</groupId>" + NL + "                </exclusion>" + NL + "                <exclusion>" + NL + "                    <artifactId>xmlParserAPIs</artifactId>" + NL + "                    <groupId>xerces</groupId>" + NL + "                </exclusion>" + NL + "                <exclusion>" + NL + "                    <artifactId>xercesImpl</artifactId>" + NL + "                    <groupId>xerces</groupId>" + NL + "                </exclusion>" + NL + "                <exclusion>" + NL + "                    <artifactId>XmlSchema</artifactId>" + NL + "                    <groupId>org.apache.ws.commons</groupId>" + NL + "                </exclusion>" + NL + "            </exclusions>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>org.codehaus.xfire</groupId>" + NL + "            <artifactId>xfire-spring</artifactId>" + NL + "            <version>${xfire.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>org.hibernate</groupId>" + NL + "            <artifactId>hibernate</artifactId>" + NL + "            <version>${hibernate.version}</version>" + NL + "            <exclusions>" + NL + "                <exclusion>" + NL + "                    <artifactId>ehcache</artifactId>" + NL + "                    <groupId>net.sf.ehcache</groupId>" + NL + "                </exclusion>" + NL + "                <exclusion>" + NL + "                    <artifactId>commons-collections</artifactId>" + NL + "                    <groupId>commons-collections</groupId>" + NL + "                </exclusion>" + NL + "            </exclusions>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>org.hibernate</groupId>" + NL + "            <artifactId>hibernate-annotations</artifactId>" + NL + "            <version>${hibernate.annotations.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>org.hibernate</groupId>" + NL + "            <artifactId>hibernate-commons-annotations</artifactId>" + NL + "            <version>${hibernate.annotations.version}</version>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>org.springframework</groupId>" + NL + "            <artifactId>spring-aspects</artifactId>" + NL + "            <version>${spring.version}</version>" + NL + "            <exclusions>" + NL + "                <exclusion>" + NL + "                    <artifactId>spring-beans</artifactId>" + NL + "                    <groupId>org.springframework</groupId>" + NL + "                </exclusion>" + NL + "                <exclusion>" + NL + "                    <artifactId>commons-logging</artifactId>" + NL + "                    <groupId>commons-logging</groupId>" + NL + "                </exclusion>" + NL + "            </exclusions>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>org.subethamail</groupId>" + NL + "            <artifactId>subethasmtp-wiser</artifactId>" + NL + "            <version>${wiser.version}</version>" + NL + "            <scope>test</scope>" + NL + "        </dependency>" + NL + "        <dependency>" + NL + "            <groupId>velocity</groupId>" + NL + "            <artifactId>velocity</artifactId>" + NL + "            <version>${velocity.version}</version>" + NL + "        </dependency>" + NL + "    </dependencies>" + NL + "</project>";
  protected final String TEXT_6 = NL;

  public String generate(Object argument)
  {
    final StringBuffer stringBuffer = new StringBuffer();
    
    XProject prj = (XProject) argument;
    String name = prj.getName();
    org.apache.log4j.Logger.getLogger(getClass()).debug(" generate ");    

    stringBuffer.append(TEXT_1);
    stringBuffer.append(name);
    stringBuffer.append(TEXT_2);
    stringBuffer.append(name);
    stringBuffer.append(TEXT_3);
    stringBuffer.append(name);
    stringBuffer.append(TEXT_4);
    stringBuffer.append(name);
    stringBuffer.append(TEXT_5);
    stringBuffer.append(TEXT_6);
    return stringBuffer.toString();
  }
}
